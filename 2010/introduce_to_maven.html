<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Introduce to Maven - SunsetSunrising</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0"/>
    <link rel="stylesheet" href="/assets/style.css?v=c2ae2"/>
    <link rel="stylesheet" href="/assets/pygments.css?v=cedbb"/>
    
    <link rel="alternate" type="application/rss+xml" href="/feed.xml" title="SunsetSunrising"/>
    
<link rel="canonical" href="/2010/introduce_to_maven.html" />



    <script>
        (function() {
            var cx = '012347804910294994683:rsexabosj44';
            var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                    '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
        })();
    </script>
</head>
<body>
<!--http://vimeo.com/53043267-->
<div id="topbar"></div>
<header>
    <div id="logo"><a href="/"><img src="/assets/sunsetsunrising.png" alt="SunsetSunrising" /></a></div>
    <nav id="nav" role="navigation">
        
        <a  href="/">Home</a>
        <a  href="/resume/zh.html">Resume</a>
    </nav>
</header>
<div id="search">
    <gcse:searchbox enableHistory="true" autoCompleteMaxCompletions="5" autoCompleteMatchType='any'></gcse:searchbox>
</div>
<div id="search-results">
    <gcse:searchresults refinementStyle="link"  adclient="pub-3716363443644786"></gcse:searchresults>
</div>
<div class="container"><h1 class="entry-title">Introduce to Maven</h1>
<div class="entry-meta">
    <time class="updated" datetime="2010-04-05T05:04:09+08:00">
        <a href="/2010/">2010-04-05</a>
    </time>
    <span class="author vcard">
        by <a class="url fn" href="http://sunsetsunrising.com">Yan Sheng</a>
        
    </span>
</div>
<div class="entry-content">
    <p><a class="reference external" href="http://maven.apache.org/">http://maven.apache.org/</a></p>
<div class="section" id="what-is">
<h2>what is</h2>
<ul class="simple">
<li>simplify the build processes in the jakarta turbine project.</li>
<li>a standard way to build the projects, a clear definition of what the project consisted of, an easy way to publish project information and a way to share JARs across serveral projects.</li>
<li>building and managing any Java-based project. make the day-to-day work of Java developers easier and generally help with the comprehension of any java-based project.</li>
<li>Making the build process easy</li>
<li>Providing a uniform build system</li>
<li>Providing quality project information</li>
<li>Providing guidelines for best practices development</li>
<li>Allowing transparent migration to new features</li>
</ul>
</div>
<div class="section" id="in-5-minutes">
<h2>in 5 Minutes</h2>
<ul>
<li><p class="first">mvn --version # 版本</p>
</li>
<li><p class="first">mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</p>
<blockquote>
<p># com.mycompany.app 对应my-app下的src/java或者src/test目录下. pom.xml为工程对象模型, 作为工程的配置信息, 包含构建一个工程所需的信息;
执行这条命令时, 一直出现</p>
<p>[INFO] The plugin 'org.apache.maven.plugins:maven-archetype-plugin' does not exi
st or no valid version could be found</p>
<p>导致BUILD ERROR, 后来改配置文件中的mirrorOf, 默认之前设置了tb的两个镜像, 后来删除这两个, 就可以了. $user_home/.m2/repository中也有东西了.</p>
</blockquote>
</li>
<li><p class="first">mvn package,,,执行一系列的命令, 这个package就是将工程打包(在target下), 还有其他的快捷命令, 如下的parse.</p>
</li>
<li><p class="first">mvn site # 生成工程文档, target/site</p>
</li>
</ul>
</div>
<div class="section" id="maven">
<h2>配置Maven</h2>
<ol class="arabic">
<li><p class="first">位置&amp;优先级</p>
<blockquote>
<ul class="simple">
<li>工程的配置, 即pom.xml;</li>
<li>maven安装时加入的配置文件: $M2_PATHconfsettings.xml;</li>
<li>用户的就是user_home下的.m2/settings.xml</li>
</ul>
</blockquote>
</li>
<li><p class="first">配置内容</p>
<blockquote>
<ul class="simple">
<li>为本地仓库的保存地址;</li>
<li>server上用户的信息, 主要是用户名, 密码, 或者私钥地址等.</li>
<li>planetmirror Australian Mirror of <a class="reference external" href="http://repo1.maven.org/maven2/">http://repo1.maven.org/maven2/</a> <a class="reference external" href="http://public.planetmirror.com/maven2/">http://public.planetmirror.com/maven2/</a> central 远程仓库镜像,,,猜测有点像ubuntu的仓库, 本机需要设置各个源, 然后每次就从这些源中下载.</li>
<li>pluginGroups增加插件位置(远程), 如果用到其他plugin, 就需要在这里增加他的位置</li>
</ul>
</blockquote>
</li>
</ol>
</div>
<div class="section" id="maven-archetypes">
<h2>创建maven工程&amp;什么是archetypes</h2>
<p>In Maven, an archetype is a template of a project which is combined with some user input to produce a working Maven project that has been tailored to the user's requirements. 简短来讲, archetype就是工程模板.</p>
<ul class="simple">
<li>mvn archetype:create -DarchetypeGroupId=org.apache.maven.archetypes -DgroupId=com.mycompany.app -DartifactId=my-app</li>
<li>mvn archetype:generate ...</li>
</ul>
</div>
<div class="section" id="parse">
<h2>parse</h2>
<p>如mvn package 后面的package就是&quot;短语&quot;</p>
<p>A phase is a step in the build lifecycle, which is an ordered sequence of phases. When a phase is given, Maven will execute every phase in the sequence up to and including the one defined.</p>
<ul class="simple">
<li>validate: validate the project is correct and all necessary information is available</li>
<li>compile: compile the source code of the project</li>
<li>test: test the compiled source code using a suitable unit testing framework. These tests should not require the code be packaged or deployed</li>
<li>package: take the compiled code and package it in its distributable format, such as a JAR.</li>
<li>integration-test: process and deploy the package if necessary into an environment where integration tests can be run</li>
<li>verify: run any checks to verify the package is valid and meets quality criteria</li>
<li>install: install the package into the local repository, for use as a dependency in other projects locally</li>
<li>deploy: done in an integration or release environment, copies the final package to the remote repository for sharing with other developers and projects.</li>
<li>clean: cleans up artifacts created by prior builds</li>
<li>site: generates site documentation for this project</li>
</ul>
<p>这个build lifecycle, 每条短语都对应到lifecycle的一个点, 执行这点, 之前的点也会执行;</p>
</div>

</div>
<div class="entry-tags">
    <a href="/tag/#Tools">Tools</a>
</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sunsetsunrising';
    var disqus_title = 'Introduce to Maven';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
</div>
<footer>
    <hr class="end"/>
    <p>&copy;2008~2012  <a href="https://github.com/lizzie/lizzie.github.com">Liz</a>  &hearts; <span class="software">Powered by <a href="http://lab.lepture.com/liquidluck/">Felix Felicis 3.5</a></span></p>
</footer>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4419044-5']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackPageLoadTime']);
    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>