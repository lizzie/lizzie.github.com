<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HPWS END - SunsetSunrising</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0"/>
    <link rel="stylesheet" href="/assets/style.css?v=2e089"/>
    <link rel="stylesheet" href="/assets/pygments.css?v=cedbb"/>
    
    <link rel="alternate" type="application/rss+xml" href="/feed.xml" title="SunsetSunrising"/>
    
<link rel="canonical" href="/2009/hpws_end.html" />



    <script>
        (function() {
            var cx = '012347804910294994683:rsexabosj44';
            var gcse = document.createElement('script'); gcse.type = 'text/javascript'; gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                    '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(gcse, s);
        })();
    </script>
</head>
<body>
<!--http://vimeo.com/53043267-->
<div id="topbar"></div>
<header>
    <div id="logo"><a href="/">SunsetSunrising</a></div>
    <nav id="nav" role="navigation">
        
        <a  href="/">Home</a>
        <a  href="/resume/zh.html">Resume</a>
    </nav>
</header>
<div id="search">
    <gcse:searchbox enableHistory="true" autoCompleteMaxCompletions="5" autoCompleteMatchType='any'></gcse:searchbox>
</div>
<div id="search-results">
    <gcse:searchresults refinementStyle="link"  adclient="pub-3716363443644786"></gcse:searchresults>
</div>
<div class="container"><h1 class="entry-title">HPWS END</h1>
<div class="entry-meta">
    <time class="updated" datetime="2009-04-12T14:04:14+08:00">
        <a href="/2009/">2009-04-12</a>
    </time>
    <span class="author vcard">
        by <a class="url fn" href="http://sunsetsunrising.com">Yan Sheng</a>
        
    </span>
</div>
<div class="entry-content">
    <p>YSlow: <a class="reference external" href="http://developer.yahoo.com/yslow/">http://developer.yahoo.com/yslow/</a></p>
<p>YSlow做了哪些工作进行测试? YSlow crawls the page's DOM to find all the components in the page. It uses XMLHttpResponse to find the response time and size of each component, as well as the HTTP response headers. This, along with other information gathered from parsing the page's HTML is used to score each rule. The overall YSlow grade is a weighted average of each rule's score. YSlow provides other tools as well, including a summary of the page's components and an analysis of all the JavaScript in the page using JSLint <a class="reference external" href="http://jslint.com">http://jslint.com</a></p>
<p>剩余的内容介绍了几个主要网站的YSlow评测结果, 并提出一些改进建议. 其中评测分数最高的是Google, page weight就十几k, Response time才1.7秒, HTTP requests为3, 主要还是本身页面上东西就不多. 所以...
其中看到一个特别的地方,</p>
<div class="highlight"><pre><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">defer</span><span class="nt">&gt;</span><span class="c">&lt;!--</span>
    <span class="kd">function</span> <span class="nx">qs</span><span class="p">(</span><span class="nx">el</span><span class="p">){...}</span>
<span class="c1">//--&gt;</span>
<span class="nt">&lt;/script&gt;</span>
</pre></div>
<p>Using the DEFER attribute avoids possible rendering delays by telling the browser to continue rendering and execute the JavaScript later, the justification for using it with an inline script may be that parsing and excuting the JavaScript code could delay rendering the page. In this case, however, a problem is that after this SCRIPT block, ...</p>
<pre class="literal-block">
some keywords
Amazon: heavy page, Gzip the components, add a far future Expires.
AOL: HTTP requests are made sequentially, so parallelization.
CNN: heavies page, so many images
eBay: IFrames(ecah IFrames is an additional HTTP request that typically is not cached. IFrames contains the Javascript code.)
Google: preload,
MSN: IFrames...rule 1, 3, 4, 9, 10, 13
MySpace: rule 1, 3, 9, 10
Wikipedia: reduce the HTTP requests. Expires header. Gzipped. PNG优化(PngOptimizer http://psydk.org/PngOptimizer.php)
Yahoo: Minifying the HTML document
YouTube: parallelization, dns lookups, Expires, Etags.
</pre>
<p>The End</p>
<p>晕也, 看完这书才发现网上已有中文版的网页加速的14条优化法则 <a class="reference external" href="http://java-guru.javaeye.com/blog/138659">http://java-guru.javaeye.com/blog/138659</a>
另外, 原来这个就是CSS sprite <a class="reference external" href="http://www.xxcss.com/html/7/0/672/1.htm">http://www.xxcss.com/html/7/0/672/1.htm</a></p>

</div>
<div class="entry-tags">
    <a href="/tag/#Javascript">Javascript</a><a href="/tag/#note">note</a>
</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'sunsetsunrising';
    var disqus_title = 'HPWS END';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
</div>
<footer>
    <hr class="end"/>
    <p>&copy;2008~2012  <a href="https://github.com/lizzie/lizzie.github.com">Liz</a>  &hearts; <span class="software">Powered by <a href="http://lab.lepture.com/liquidluck/">Felix Felicis</a> 3.5, Thanks A Lot~</span></p>
</footer>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-4419044-5']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackPageLoadTime']);
    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>